<!-- r.html -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>R — Repudiation | STRIDE IT</title>

    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="index.css" />
  </head>

  <body>
    <div class="topbar sticky-top">
      <div
        class="container py-3 d-flex justify-content-between align-items-center"
      >
        <div class="fw-semibold">
          <a href="../index.html" class="brand-link">STRIDE IT</a>
        </div>

        <div class="d-flex gap-2 align-items-center">
          <span class="badge badge-soft rounded-pill" id="letterScore"
            >R: 0/3</span
          >
          <span class="badge badge-soft rounded-pill" id="totalScore"
            >Total: 0/18</span
          >
        </div>
      </div>
    </div>

    <main class="container py-5">
      <!-- Header -->
      <div class="row g-4 align-items-center">
        <div class="col-lg-7">
          <h1 class="display-6 fw-bold mb-2">R — Repudiation</h1>
          <p class="muted mb-0">
            Repudiation is when actions can't be reliably traced—so someone can
            deny what they did. Accountability is the target.
          </p>
        </div>

        <!-- “image” (inline SVG) -->
        <div class="col-lg-5">
          <div class="card-glass p-3">
            <svg
              viewBox="0 0 640 220"
              class="w-100"
              role="img"
              aria-label="Repudiation illustration"
            >
              <defs>
                <linearGradient id="gR" x1="0" x2="1">
                  <stop
                    offset="0"
                    stop-color="var(--accent1)"
                    stop-opacity=".55"
                  />
                  <stop
                    offset="1"
                    stop-color="var(--accent2)"
                    stop-opacity=".25"
                  />
                </linearGradient>
                <filter id="glowR">
                  <feGaussianBlur stdDeviation="3" result="blur" />
                  <feMerge>
                    <feMergeNode in="blur" />
                    <feMergeNode in="SourceGraphic" />
                  </feMerge>
                </filter>
              </defs>

              <rect
                x="10"
                y="10"
                width="620"
                height="200"
                rx="18"
                fill="url(#gR)"
                opacity=".35"
              />

              <!-- Left: "Action" -->
              <rect
                x="40"
                y="55"
                width="250"
                height="120"
                rx="16"
                fill="#0b122055"
                stroke="#ffffff22"
              />
              <text
                x="60"
                y="92"
                fill="#eaf0ff"
                font-size="16"
                font-family="system-ui"
                font-weight="700"
              >
                Action performed
              </text>
              <rect
                x="60"
                y="110"
                width="210"
                height="12"
                rx="6"
                fill="#ffffff1f"
              />
              <rect
                x="60"
                y="132"
                width="180"
                height="12"
                rx="6"
                fill="#ffffff1f"
              />
              <rect
                x="60"
                y="154"
                width="195"
                height="12"
                rx="6"
                fill="#ffffff1f"
              />

              <!-- Right: "Audit trail" -->
              <rect
                x="350"
                y="55"
                width="250"
                height="120"
                rx="16"
                fill="#0b122055"
                stroke="#ffffff22"
              />
              <text
                x="370"
                y="92"
                fill="#eaf0ff"
                font-size="16"
                font-family="system-ui"
                font-weight="700"
              >
                Audit trail
              </text>

              <!-- Broken / missing logs effect -->
              <rect
                x="370"
                y="110"
                width="210"
                height="12"
                rx="6"
                fill="#ffffff1f"
              />
              <rect
                x="370"
                y="132"
                width="210"
                height="12"
                rx="6"
                fill="#ffffff1f"
                opacity=".55"
              />
              <rect
                x="370"
                y="154"
                width="150"
                height="12"
                rx="6"
                fill="#ffffff1f"
                opacity=".35"
              />

              <!-- Red "missing" marker -->
              <path
                d="M395 140 L545 120"
                stroke="var(--accent2)"
                stroke-width="6"
                stroke-linecap="round"
                opacity=".85"
                filter="url(#glowR)"
              />

              <!-- Middle arrow -->
              <path
                d="M300 115 C320 115 330 115 345 115"
                stroke="var(--accent1)"
                stroke-width="6"
                stroke-linecap="round"
                opacity=".7"
              />
              <path
                d="M332 103 L355 115 L332 127"
                fill="none"
                stroke="var(--accent1)"
                stroke-width="6"
                stroke-linecap="round"
                stroke-linejoin="round"
                opacity=".7"
              />

              <!-- Bottom: “I didn’t do it” bubble -->
              <rect
                x="210"
                y="178"
                width="220"
                height="26"
                rx="13"
                fill="#0b122055"
                stroke="#ffffff22"
              />
              <text
                x="225"
                y="196"
                fill="#b8c4e3"
                font-size="13"
                font-family="system-ui"
              >
                “It wasn't me! Show me proof!”
              </text>
            </svg>
          </div>
        </div>
      </div>

      <!-- Three informational sections -->
      <div class="row g-4 mt-1">
        <div class="col-lg-4">
          <div class="card-glass p-4 h-100">
            <h2 class="h5 fw-semibold mb-2">What it means</h2>
            <p class="muted mb-0">
              Repudiation is when a user can deny actions because the system
              can't prove who did what, and when.
            </p>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="card-glass p-4 h-100">
            <h2 class="h5 fw-semibold mb-2">Why it matters</h2>
            <p class="muted mb-0">
              If you can't trace actions, investigations and incident response
              become guesswork. Trust and accountability collapse.
            </p>
          </div>
        </div>

        <div class="col-lg-4">
          <div class="card-glass p-4 h-100">
            <h2 class="h5 fw-semibold mb-2">How to mitigate</h2>
            <p class="muted mb-0">
              Use reliable audit logs: who, what, when, where. Protect logs from
              tampering, and include request IDs and server-side timestamps.
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- Activity Log Lab -->
    <main class="container py-5">
      <div class="mt-5 card-glass p-4">
        <div class="d-flex justify-content-between align-items-center">
          <h2 class="h4 fw-bold mb-0">System Activity Log</h2>
          <span class="badge badge-soft rounded-pill" id="logStatus">
            Not solved
          </span>
        </div>

        <p class="muted mt-2 mb-3">
          Every action on this page is logged below.
        </p>

        <div id="logTerminal" class="terminal-box mb-3"></div>

        <div class="d-flex gap-2">
          <button class="btn btn-primary btn-sm" id="fakeActionBtn">
            Approve Invoice
          </button>
          <button class="btn btn-outline-light btn-sm" id="clearLogBtn">
            Clear Log
          </button>
        </div>

        <div class="form-text muted mt-3">
          Mission: perform an action — then remove the evidence.
        </div>

        <div class="mt-3" id="logResult"></div>
      </div>
    </main>

    <!-- Lab 2-->
    <main class="container py-5">
      <div class="mt-4 card-glass p-4">
        <div class="d-flex justify-content-between align-items-start">
          <div>
            <h2 class="h4 fw-bold mb-1">Task 2 — Missing Audit Log</h2>
            <p class="muted mb-0">
              An administrator deletes a customer account. Later, they deny ever
              doing it. There is no audit log entry for the deletion.
            </p>
          </div>
          <span class="badge badge-soft rounded-pill" id="quiz2Status">
            Not solved
          </span>
        </div>

        <hr
          style="
            height: 1px;
            background: var(--stroke);
            opacity: 1;
            margin: 1.25rem 0;
          "
        />

        <p class="fw-semibold">What failed in this system?</p>

        <div class="d-grid gap-2 mt-3">
          <button class="btn btn-outline-light quiz2-option">
            A) Authentication
          </button>
          <button class="btn btn-outline-light quiz2-option">
            B) Authorization
          </button>
          <button
            class="btn btn-outline-light quiz2-option"
            data-correct="true"
          >
            C) Audit logging / Non-repudiation
          </button>
          <button class="btn btn-outline-light quiz2-option">
            D) Encryption
          </button>
        </div>

        <div class="mt-3" id="quiz2Result"></div>
      </div>
    </main>

    <!-- Lab 3-->
    <main class="container py-5">
      <div class="mt-4 card-glass p-4">
        <div class="d-flex justify-content-between align-items-start">
          <div>
            <h2 class="h4 fw-bold mb-1">Task 3 — Log Manipulation</h2>
            <p class="muted mb-0">
              A user performs a transfer. Later, they edit the log file and
              remove the entry. The system has no way to detect that logs were
              changed.
            </p>
          </div>
          <span class="badge badge-soft rounded-pill" id="quiz3Status">
            Not solved
          </span>
        </div>

        <hr
          style="
            height: 1px;
            background: var(--stroke);
            opacity: 1;
            margin: 1.25rem 0;
          "
        />

        <p class="fw-semibold">What control is missing?</p>

        <div class="d-grid gap-2 mt-3">
          <button class="btn btn-outline-light quiz3-option">
            A) Input validation
          </button>
          <button class="btn btn-outline-light quiz3-option">
            B) Session timeout
          </button>
          <button
            class="btn btn-outline-light quiz3-option"
            data-correct="true"
          >
            C) Tamper-evident / protected logging
          </button>
          <button class="btn btn-outline-light quiz3-option">
            D) Rate limiting
          </button>
        </div>

        <div class="mt-3" id="quiz3Result"></div>
      </div>

      <div hidden>
        in the eye you shift
        <svg
          viewBox="0 0 120 160"
          width="140"
          height="180"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="
      M35 30
      C75 5, 105 45, 65 65
      C105 85, 75 125, 35 100
    "
            fill="none"
            stroke="white"
            stroke-width="18"
            stroke-linecap="round"
          />
        </svg>
      </div>
    </main>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <script type="module" src="logic.js"></script>
  </body>
</html>
